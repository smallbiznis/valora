# =========================
# Application
# =========================
APP_NAME=valora-oss
APP_VERSION=0.1.0

ENVIRONMENT=development

# =========================
# Observability / OTLP
# (optional, boleh kosong kalau belum dipakai)
# =========================
OTLP_ENDPOINT=

# =========================
# Cloud / Valora Cloud
# =========================
CLOUD_ORGANIZATION_ID=

# =========================
# Cloud Metrics (Billing Cloud)
# =========================
CLOUD_METRICS_ENABLED=true
CLOUD_METRICS_EXPORTER=prometheus_remote_write   # prometheus | otlp
CLOUD_METRICS_ENDPOINT=
CLOUD_METRICS_AUTH_TOKEN=

# =========================
# Database
# =========================
DB_TYPE=postgres
DB_HOST=localhost
DB_PORT=5432
DB_NAME=postgres
DB_USER=postgres
DB_PASSWORD=postgres
DB_SSL_MODE=disable

# =========================
# Database Pooling
# =========================
DB_MAX_IDLE_CONN=10
DB_MAX_OPEN_CONN=50
DB_CONN_MAX_LIFETIME=300   # seconds
DB_CONN_MAX_IDLE_TIME=60   # 

# =========================
# Bootstrap Default Org and User
# =========================
ENSURE_DEFAULT_ORG_AND_USER=true

# =========================
# User
# =========================
ALLOW_SIGNUP=true
ALLOW_ASSIGN_ORG=true
ALLOW_ASSIGN_USER_ROLE=ADMIN

AUTO_ASSIGN_ORG_ID=2002990275537932288
AUTO_ASSIGN_ORG_ROLE=EDITOR

DEFAULT_ORG=2002990275537932288

VALORA_SECURITY_ADMIN_EMAIL=admin@valora.cloud
VALORA_SECURITY_ADMIN_PASSWORD=admin

# =========================
# Feature Toggles
# =========================

DEFAULT_LIMIT_ORG=-1
DEFAULT_LIMIT_USER=-1

# =========================
# SSO Settings
# =========================
SSO_SETTINGS_RELOAD_INTERVAL=1m
SSO_SETTINGS_CONFIGURABLE_PROVIDERS=github gitlab google generic_oauth azuread okta

# =========================
# Auth - GitHub
# =========================
AUTH_GITHUB_NAME=GitHub
AUTH_GITHUB_ICON=github
AUTH_GITHUB_ENABLED=false
AUTH_GITHUB_ALLOW_SIGN_UP=true
AUTH_GITHUB_AUTO_LOGIN=false
AUTH_GITHUB_CLIENT_ID=some_id
AUTH_GITHUB_CLIENT_SECRET=
AUTH_GITHUB_SCOPES=user:email,read:org
AUTH_GITHUB_AUTH_URL=https://github.com/login/oauth/authorize
AUTH_GITHUB_TOKEN_URL=https://github.com/login/oauth/access_token
AUTH_GITHUB_API_URL=https://api.github.com/user
AUTH_GITHUB_SIGNOUT_REDIRECT_URL=
AUTH_GITHUB_ALLOWED_DOMAINS=
AUTH_GITHUB_TEAM_IDS=
AUTH_GITHUB_ALLOWED_ORGANIZATIONS=
AUTH_GITHUB_ROLE_ATTRIBUTE_PATH=
AUTH_GITHUB_ROLE_ATTRIBUTE_STRICT=false
AUTH_GITHUB_ORG_MAPPING=
AUTH_GITHUB_ALLOW_ASSIGN_VALORA_ADMIN=false
AUTH_GITHUB_SKIP_ORG_ROLE_SYNC=false
AUTH_GITHUB_TLS_SKIP_VERIFY_INSECURE=false
AUTH_GITHUB_TLS_CLIENT_CERT=
AUTH_GITHUB_TLS_CLIENT_KEY=
AUTH_GITHUB_TLS_CLIENT_CA=
AUTH_GITHUB_USE_REFRESH_TOKEN=false

# =========================
# Auth - Google
# =========================
AUTH_GOOGLE_NAME=Google
AUTH_GOOGLE_ICON=google
AUTH_GOOGLE_ENABLED=false
AUTH_GOOGLE_ALLOW_SIGN_UP=true
AUTH_GOOGLE_AUTO_LOGIN=false
AUTH_GOOGLE_CLIENT_ID=some_client_id
AUTH_GOOGLE_CLIENT_SECRET=
AUTH_GOOGLE_SCOPES=openid email profile
AUTH_GOOGLE_AUTH_URL=https://accounts.google.com/o/oauth2/v2/auth
AUTH_GOOGLE_TOKEN_URL=https://oauth2.googleapis.com/token
AUTH_GOOGLE_API_URL=https://openidconnect.googleapis.com/v1/userinfo
AUTH_GOOGLE_SIGNOUT_REDIRECT_URL=
AUTH_GOOGLE_ALLOWED_DOMAINS=
AUTH_GOOGLE_VALIDATE_HD=true
AUTH_GOOGLE_HOSTED_DOMAIN=
AUTH_GOOGLE_ALLOWED_GROUPS=
AUTH_GOOGLE_ROLE_ATTRIBUTE_PATH=
AUTH_GOOGLE_ROLE_ATTRIBUTE_STRICT=false
AUTH_GOOGLE_ORG_MAPPING=
AUTH_GOOGLE_ALLOW_ASSIGN_VALORA_ADMIN=false
AUTH_GOOGLE_SKIP_ORG_ROLE_SYNC=true
AUTH_GOOGLE_TLS_SKIP_VERIFY_INSECURE=false
AUTH_GOOGLE_TLS_CLIENT_CERT=
AUTH_GOOGLE_TLS_CLIENT_KEY=
AUTH_GOOGLE_TLS_CLIENT_CA=
AUTH_GOOGLE_USE_PKCE=true
AUTH_GOOGLE_USE_REFRESH_TOKEN=true

# =========================
# Auth - usevalora.cloud (legacy env keys)
# =========================
AUTH_VALORANET_ENABLED=false
AUTH_VALORANET_ALLOW_SIGN_UP=true
AUTH_VALORANET_CLIENT_ID=some_id
AUTH_VALORANET_CLIENT_SECRET=
AUTH_VALORANET_SCOPES=user:email
AUTH_VALORANET_ALLOWED_ORGANIZATIONS=
AUTH_VALORANET_USE_REFRESH_TOKEN=false

# =========================
# Auth - usevalora.cloud
# =========================
AUTH_VALORA_CLOUD_NAME=usevalora.cloud
AUTH_VALORA_CLOUD_ICON=valora
AUTH_VALORA_CLOUD_ENABLED=false
AUTH_VALORA_CLOUD_ALLOW_SIGN_UP=true
AUTH_VALORA_CLOUD_AUTO_LOGIN=false
AUTH_VALORA_CLOUD_CLIENT_ID=some_id
AUTH_VALORA_CLOUD_CLIENT_SECRET=
AUTH_VALORA_CLOUD_SCOPES=user:email
AUTH_VALORA_CLOUD_ALLOWED_ORGANIZATIONS=
AUTH_VALORA_CLOUD_SKIP_ORG_ROLE_SYNC=false
AUTH_VALORA_CLOUD_USE_REFRESH_TOKEN=false

# =========================
# RBAC
# =========================
RBAC_PERMISSION_CACHE=true
RBAC_RESET_BASIC_ROLES=false
RBAC_PERMISSION_VALIDATION_ENABLED=true

# =========================
# SMTP / Emailing
# =========================
SMTP_ENABLED=false
SMTP_HOST=localhost:25
SMTP_USER=
SMTP_PASSWORD=
SMTP_SKIP_VERIFY=false
SMTP_FROM_ADDRESS=admin@valora.localhost
SMTP_FROM_NAME=Valora
SMTP_STARTTLS_POLICY=
SMTP_ENABLE_TRACING=false

# =========================
# Emails
# =========================
EMAILS_WELCOME_EMAIL_ON_SIGN_UP=false
EMAILS_TEMPLATES_PATTERN=emails/*.html, emails/*.txt
EMAILS_CONTENT_TYPES=text/html

# =========================
# Usage Quotas
# =========================
QUOTA_ENABLED=true   # set to false for OSS if quotas are not needed
QUOTA_ORG_USER=10
QUOTA_ORG_DASHBOARD=100
QUOTA_ORG_DATA_SOURCE=10
QUOTA_ORG_API_KEY=10
QUOTA_USER_ORG=10
QUOTA_GLOBAL_USER=-1
QUOTA_GLOBAL_ORG=-1
